## 1. Jenkins 설치
스프링부트 프로젝트의 버전이 3.0.0 이상이면 jdk17 버전 이상부터 지원이 되므로 jdk17 버전 jenkins 이미지를 받는다.
```
docker pull jenkins/jenkins:jdk17
```
## 2. Jenkins 실행
도커 Repository명 확인
```
docker images
```
### type 1. Jenkins 명령어 실행 및 확인
```
docker run -d -p 8081:8080 --name jenkins -u root jenkins/jenkins:jdk17
docker ps
```
### type 2. Dockerfile 로 실헹
```
# dshan/ci_cd_test/jenkins/jenkins-dockerfile

FROM jenkins/jenkins:jdk17

USER root
RUN apt-get update &&\
    apt-get upgrade -y &&\
    apt-get install -y openssh-client
```
type 2 형식으로 진행한다 

위의 openssh-client 가 Jenkins에 필요한 이유는 빌드가 완료된 프로젝트를 Jenkins(컨테이너) 외부의 서버에서 실행시켜야 하기 때문에 
ssh 를 통해 서버에 접속해 빌드된 프로젝트를 실행시키는 방법을 사용하기 위함

해당 Dockerfile을 바탕으로 Docker 컨테이너를 생성해주는 docker-compose.yml(컨테이너 생성을 위함) 을 작성한다
```
# dshan/ci_cd_test/jenkins/docker-compose.yml

version: "3.1"
services:
  jenkins:
    container_name: jenkins
    build:
      context: jenkins-dockerfile
      dockerfile: Dockerfile
    restart: unless-stopped
    user: root
    ports:
      - 8888:8080
      - 50000:50000
    volumes:
      - /home/dshan/ci_cd_test/jenkins/jenkins_home:/var/jenkins_home
      - /home/dshan/ci_cd_test/jenkins/.ssh:/root/.ssh

```

 

 

해당 Dockerfile을 바탕으로 Docker 컨테이너를 생성해주는 docker-compose.yml(컨테이너 생성을 위함) 을 작성한다




정상적으로 컨테이너가 올라간 것을 확인하면 웹브라우저를 통해 접속한다.
```
http://192....97:8081/
```

